<!DOCTYPE html><html lang="ja">
<head>
	<meta charset="utf-8">
	<meta http-equiv="refresh" content="1800">
	<meta name="referrer" content="no-referrer-when-downgrade">
	<link rel="stylesheet" href="https://n138-kz.github.io/lib/master.css?t=0">
	<script src="https://n138-kz.github.io/lib/master.js"></script>
	<title>_announce.json editor</title>
	<style>
		input, textarea, code, output {
			font-family: monospace;
		}
		form textarea {
			width: 90%;
			min-height: 10em;
			min-width: 50%;
			background-color: black;
			color: white;
			display: block;
		}
		table.emoji img {
			max-height: 3em;
		}
		#file_check_json_status:not([class]) {
			color: green;
		}
		#file_check_json_status[class] {
			color: red;
		}
	</style>
	<script>
		function send(calledby){
			console.log(calledby);
		}
	</script>
</head>
<body>
	<form action="" method="POST">
		<fieldset>
			<legend>_announce.json</legend>
			<textarea name="content" id="file_downloaded_content"></textarea>
			<script>
				window.addEventListener('DOMContentLoaded', async ()=>{
					url='../discord_json_announcements/_announce.json';
					req=await fetch(url);
					res=await req.json();
					console.log({url:url,req:req,res:res});
					document.querySelector('#file_downloaded_content').value=JSON.stringify(res,null,' '.repeat(4))
				});
			</script>
		</fieldset>
	</form>
	<fieldset>
		<input type="button" value="check&submit" onclick="send(this)">
		<input type="submit" value="check&submit">
	</fieldset>
	<fieldset>
		<input type="datetime-local" id="datetime_to_epoch11" onchange="console.log(this.value);document.querySelector('#datetime_to_epoch12').value='<t:'+new Date(this.value).getTime()/10**3+':f>'" step="1"> â†’ <input type="text" readonly id="datetime_to_epoch12" onclick="this.select()">
		<script>
			window.addEventListener('DOMContentLoaded', ()=>{
				now1=new Date();
				now='{Y}-{m}-{d}T{H}:{i}:{s}';
				now=now.replace('{Y}', now1.getFullYear());
				now=now.replace('{m}', ('00'+(now1.getMonth()+1)).slice(-2));
				now=now.replace('{d}', ('00'+now1.getDate()).slice(-2));
				now=now.replace('{H}', ('00'+now1.getHours()).slice(-2));
				now=now.replace('{i}', ('00'+now1.getMinutes()).slice(-2));
				now=now.replace('{s}', ('00'+now1.getSeconds()).slice(-2));
				document.querySelector('#datetime_to_epoch11').value=now;
				document.querySelector('#datetime_to_epoch12').value='<t:'+Math.trunc(now1.getTime()/10**3)+':f>';
			});
		</script>
	</fieldset>
	<fieldset>
		<table>
			<tr>
				<th></th>
				<th></th>
			</tr>
			<tr>
				<!--<td><img src="https://discord.com/assets/903e44646bb0b466.svg" alt=""></td>-->
				<td></td>
				<td><code>:new:</code></td>
			</tr>
			<tr>
				<!--<td><img src="https://discord.com/assets/f7750b45770701de.svg" alt=""></td>-->
				<td></td>
				<td><code>:tada:</code></td>
			</tr>
		</table>
	</fieldset>
	<fieldset>
		<legend>$_POST</legend>
		<textarea><?php echo htmlspecialchars(json_encode($_POST,$config['internal']['jsonparse']['encode']));?></textarea>
	</fieldset>
	<fieldset>
		<legend>json</legend>
		<textarea><?php echo htmlspecialchars(json_encode($content_json,$config['internal']['jsonparse']['encode']));?></textarea>
	</fieldset>
</body>
</html>
